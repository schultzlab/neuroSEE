Note: All file names are in the format yyyymmdd_HH_MM_SS.

1. To process a single file
	run_pipeline.m OR
    frun_pipeline.m (function with input argument 'file', a character string)
    * processed data are saved in '...thefarm2/live/CrazyEights/AD_2PCa/Data/'

2. To process a batch of files 
    frun_pipeline_batch.m - function with input arguments array_id (number) and 'list.txt' (character string)
    * processed data are saved in '...thefarm2/live/CrazyEights/AD_2PCa/Data/'

    * To run through hpc
	 <jobscript>.pbs (e.g. run1D.pbs, run1D_fissa.pbs)  
     - generate array_id values in <jobscript.pbs> for number of files in 'list.txt' to process all files in 'list.txt'
        (e.g. #PBS -J 1-112 will generate array_id values from 1 to 112) 
       
     Notes:  On hpc, normcorre and CaImAn only work with Matlab R2017a.
             FISSA, in contrast, needs higher versions.
             So frun_pipeline_batch automatically detects the version running and 
                disregards FISSA when running R2017a even when settings call for it.

3. To register a batch of files from the same experiment and then do the pipeline
    a. frun_comparisons_expbatch.m 
        - function with input arguments 'expname' and 'list.txt' (both char strings)
        - generates fig with all green channel images of files in 'list.txt'
                                   red channel images
                                 trajectories
        - user can choose a reference (template) image from these figures
        - processed data are saved in '...thefarm2/live/CrazyEights/AD_2PCa/Analysis/mouseid/'
            where mouseid is the first 3 characters of expname (e.g. m62)
    b. frun_imreg_expbatch.m 
        - function with input arguments array_id, 'expname', 'list.txt', 'reffile'
        - registers the motion corrected file number <array_id> in 'list.txt' to the template 'reffile'
        - processed data are saved in '...thefarm2/live/CrazyEights/AD_2PCa/Data/'
    
        * To run through hpc
         <jobscript>.pbs 
        - generate array_id values in <jobscript.pbs> for number of files in 'list.txt'

        Notes: 'list.txt' can include 'reffile'. It will simply be skipped.
    c. frun_CaImAn_expbatch.m
        - function with input arguments 'expname', 'list.txt', 'reffile', 

